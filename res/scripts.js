function loadPage(e,t,n=null){fetch(e).then(e=>e.text()).then(e=>{const o=(new DOMParser).parseFromString(e,"text/html"),c=o.querySelector("main").innerHTML;document.querySelector("main").innerHTML=c;const l=o.querySelector("title").innerHTML;document.querySelector("title").innerHTML=l;const a=o.querySelector("header h1").outerHTML;document.querySelector("header h1").outerHTML=a,setActiveLink(t),n&&loadScript(n)}).catch(e=>{console.error("Error loading the page:",e)})}function loadScript(e){document.querySelectorAll(`script[data-url="${e}"]`).forEach(e=>{e.remove()});const t=document.createElement("script");t.src=e+"?t="+(new Date).getTime(),t.type="text/javascript",t.async=!0,t.dataset.url=e,document.body.appendChild(t),t.onload=()=>{console.log(`Script ${e} loaded successfully.`)},t.onerror=()=>{console.error(`Failed to load script: ${e}`)}}function setActiveLink(e){document.querySelectorAll(".nav .link").forEach(e=>{e.classList.remove("active")}),document.getElementById(e).classList.add("active")}function checkQueryString(){const e=window.location.search;e.includes("?about")?loadPage("./about/index.html","aboutLink"):e.includes("?socials")?loadPage("./contact/index.html","socialsLink"):e.includes("?posts")&&loadPage("./posts/index.html","postsLink","./posts/posts.js")}function togglePlayPause(){var e=document.getElementById("audioPlayer"),t=document.getElementById("playButton");e.paused?(e.play(),t.style.color="#a190a3"):(e.pause(),t.style.color="lavenderblush")}document.getElementById("homeLink").addEventListener("click",function(e){e.preventDefault(),loadPage("./index.html","homeLink")}),document.getElementById("aboutLink").addEventListener("click",function(e){e.preventDefault(),loadPage("./about/index.html","aboutLink")}),document.getElementById("socialsLink").addEventListener("click",function(e){e.preventDefault(),loadPage("./contact/index.html","socialsLink")}),document.getElementById("postsLink").addEventListener("click",function(e){e.preventDefault(),loadPage("./posts/index.html","postsLink","./posts/posts.js")}),window.addEventListener("load",checkQueryString),document.getElementById("audioPlayer").addEventListener("ended",function(){document.getElementById("playButton").style.color="rgb(255, 0, 255)"});